{"ast":null,"code":"var _jsxFileName = \"/home/alunoipe/V\\xEDdeos/projetos desenvolvidos durante o curso de ipi/yourPet/Frontend/src/pages/Petscadastrados/index.js\";\nimport React, { useState, useEffect } from 'react'; //importa o react para o arquivo\n\nimport './style.css'; //importa o css da pagina\n\nimport { Link, useHistory } from 'react-router-dom'; //importa o uso de links sem precisar recarregar a pagina\n\nimport api from '../../Services/api'; //importa a api\n\nimport gato5 from '../../assets/gato9.gif'; //importa a img do gato\n\nimport './style.css'; //importa o css da pagina\n\nexport default function Petssalvos() {\n  const [incidents, setIncidents] = useState([]);\n  const history = useHistory();\n  const ongId = localStorage.getItem('ongId');\n  const ongNome = localStorage.getItem('ongNome');\n  useEffect(() => {\n    api.get('profile', {\n      headers: {\n        Authorization: ongId\n      }\n    }).then(response => {\n      setIncidents(response.data);\n    });\n  }, [ongId]); //função para deletar pets\n\n  async function handleDeletarPet(id) {\n    try {\n      await api.delete(`incidents/${id}`, {\n        headers: {\n          Authorization: ongId\n        }\n      });\n      setIncidents(incidents.filter(incident => incident.id !== id)); //atualiza o front depois que deletar um pet\n    } catch (err) {\n      alert('Não foi possivei deletar as informações sobre o PET. tente Novamente');\n    }\n  } //função para fazer o logout\n\n\n  async function handleLogout() {\n    localStorage.clear();\n    history.push('/sair'); //redereciona para a pagina raiz\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"conteudo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ImgPrincipalSalvos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"menuSalvos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"Yourpet\"), /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, \"Inicio\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/doar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, \"Doar\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, \"Sair\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tituloSair\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, \"Bem-vinda \", ongNome, \"...\"))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"salvos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, incidents.map(incident => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"animalSalvo\",\n    key: incident.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 8\n    }\n  }, \"nome do pet\"), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, incident.nome_do_pet), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 8\n    }\n  }, \"especie:\"), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 10\n    }\n  }, incident.especie), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 12\n    }\n  }, \"descri\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, incident.descricao), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 12\n    }\n  }, \"idade\"), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 14\n    }\n  }, incident.idade), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 10\n    }\n  }, \"sexo\"), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 14\n    }\n  }, incident.sexo), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"buttonApagarPet\",\n    type: \"submit\",\n    onClick: () => handleDeletarPet(incident.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 10\n    }\n  }, \"Deletar\")))));\n}","map":{"version":3,"sources":["/home/alunoipe/Vídeos/projetos desenvolvidos durante o curso de ipi/yourPet/Frontend/src/pages/Petscadastrados/index.js"],"names":["React","useState","useEffect","Link","useHistory","api","gato5","Petssalvos","incidents","setIncidents","history","ongId","localStorage","getItem","ongNome","get","headers","Authorization","then","response","data","handleDeletarPet","id","delete","filter","incident","err","alert","handleLogout","clear","push","map","nome_do_pet","especie","descricao","idade","sexo"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react';//importa o react para o arquivo\nimport './style.css';//importa o css da pagina\nimport { Link, useHistory } from 'react-router-dom';//importa o uso de links sem precisar recarregar a pagina\n\nimport api from '../../Services/api'//importa a api\n\nimport gato5 from '../../assets/gato9.gif';//importa a img do gato\n\nimport './style.css';//importa o css da pagina\n\nexport default function Petssalvos(){\n\nconst [incidents, setIncidents] = useState([])\n\n  const history = useHistory()\n\n  const ongId = localStorage.getItem('ongId')\n  const ongNome = localStorage.getItem('ongNome')\n\n\n  useEffect(() => {\n    \n    api.get('profile', {\n      headers:{\n        Authorization: ongId,\n      }\n    }).then(response => {\n        setIncidents(response.data)\n    })\n\n  },[ongId])\n\n  //função para deletar pets\n\n  async function handleDeletarPet(id){\n    try{\n      await api.delete(`incidents/${id}`, {\n        headers: {\n          Authorization: ongId,\n        }\n      })\n\n    setIncidents(incidents.filter(incident => incident.id !== id));//atualiza o front depois que deletar um pet\n    }catch(err){\n      alert('Não foi possivei deletar as informações sobre o PET. tente Novamente')\n    }\n  }\n\n  //função para fazer o logout\n  async function handleLogout(){\n    localStorage.clear()\n\n    history.push('/sair')//redereciona para a pagina raiz\n  }\n    return(\n  <div className=\"conteudo\">\n    <div className=\"ImgPrincipalSalvos\">\n      <header className=\"menuSalvos\" >\n        <a href=\"#\" >Yourpet</a>\n        <nav>\n          <li><Link  to=\"/\">Inicio</Link></li>\n          <li><Link  to=\"/doar\">Doar</Link></li>\n          <li><Link  onClick={handleLogout}>Sair</Link></li>\n        </nav>\n      </header>\n         \n      <div className=\"tituloSair\">\n        <h1>Bem-vinda {ongNome}...</h1>\n      </div>\n    </div>\n\n    <div class=\"salvos\">\n\n     {incidents.map(incident => (\n\n       <div className=\"animalSalvo\" key={incident.id}>\n       <strong>nome do pet</strong>\n          <small>{incident.nome_do_pet}</small>\n\n       <strong>especie:</strong>\n         <small>{incident.especie}</small>\n         \n           <strong>descrição</strong>\n              <small>{incident.descricao}</small>\n           \n           <strong>idade</strong>\n             <small>{incident.idade}</small>\n         \n         <strong>sexo</strong>\n             <small>{incident.sexo}</small>\n  \n         <button className=\"buttonApagarPet\" type=\"submit\" onClick={() => handleDeletarPet(incident.id)}>Deletar</button>\n  \n       </div>\n  \n     ))}\n    </div>\n\n</div>\n    );\n}"]},"metadata":{},"sourceType":"module"}